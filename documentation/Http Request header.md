# HTTP Request Headers Guide for Microservices

This guide provides a comprehensive overview of HTTP request headers crucial for microservices architecture. In a microservices environment, where services communicate over HTTP, understanding and correctly using these headers is essential for ensuring efficient, secure, and consistent interactions between services.
full Example:
```
Accept: application/json
Content-Type: application/json
Authorization : Bearer <token>
X-Scope: admin, bookingServiceApi
X-Client-service: bookingServiceApi/1.0.0 (production; 5051)
X-Correlation-ID: <unique-id>
X-Platform: yu2ahel
X-Provider-Info: CompanyName;12345
```
## Common Headers

### `Content-Type`

- **Description**: Indicates the media type of the resource or data being sent. Essential for the server to understand the format of the request body.
- **Required**: Yes, for POST, PUT, and PATCH requests with a body.
- **Example**: 
  - `application/json`: JSON data
  - `application/x-www-form-urlencoded`: Form data
  - `multipart/form-data`: File uploads
  - `text/plain`: Plain text
  - `application/xml`: XML data
  - `application/octet-stream`: Binary data
  - `application/graphql`: GraphQL queries


### `Accept`

- **Description**: Specifies the media types that the client is willing to receive from the server.
- **Required**: No, but recommended for content negotiation.
- **Example**: `Accept: application/json`


### `Authorization`

- **Description**: Carries credentials containing the authentication information of the client for resource access. It will be generated by the authentication service.
- **Required**: Yes, for endpoints that are protected and need authentication.
- **Example**: `Authorization: Bearer <token>`


## Custom Headers

Custom headers, especially those used for internal communication between services, should use a prefix of `X-` to avoid conflicts with standard headers.

### `X-Correlation-ID`

- **Description**: Used for tracing requests across microservices by providing a unique identifier for each request. I will be generated by the Gateway service and passed along with the request.
- **Required**: Yes, for distributed tracing and debugging purposes.
- **Example**: `X-Correlation-ID: <unique-id>`

### `X-Provider-Info`

- **Description**: Identifies the client (company) making the request, including both the name and ID of the client. This information is crucial for SaaS solutions where services need to be aware of the client context.
- **Note**: The client ID can be used to filter data or apply specific business rules based on the client context.
- **Required**: Yes, for all requests in a multi-tenant SaaS environment to ensure proper data isolation and service personalization.
- **Example**: `X-Provider-Info: CompanyName;12345`

### `X-Platform`

- **Description**: it will always equal `yu2ahel` it will be obligatory for all APIs requests for security reason.
- **Required**: Yes.
- **Example**: `X-Platform: yu2ahel`

### `X-Client-service`
- **Description**: Contains information about the client service originating the request. In a microservices environment, it can include the microservice name, version, and environment.
- **Required**: yes.
- **Example**:
  - `User-Agent: MicroserviceNameOrAppName/1.0.0 (Environment; ServiceID)`
  - `User-Agent: bookingServiceApi/1.0.0 (production; 5051)`


### `X-Scope`

- **Description**: Specifies the scope of the request, which can be used for access control, feature toggling, or to provide context-specific information to the service.
- **Note**: The names of all the clientServices that i will communicate with. and every service will check before processing if its name is existed on the scope.
- **Required**: Yes.
- **Example**: `X-Scope: admin`


## Security Headers ( not important for now)

Including security headers in HTTP requests can significantly enhance the security posture of your microservices.

### `X-Frame-Options`

- **Description**: Controls whether a browser should be allowed to render a page in a `<frame>`, `<iframe>`, `<embed>`, or `<object>`.
- **Required**: No, but recommended for enhancing security.
- **Example**: `X-Frame-Options: DENY`

### `X-Content-Type-Options`

- **Description**: Prevents the browser from interpreting files as a different MIME type than what is specified in the `Content-Type` header.
- **Required**: No, but recommended for security.
- **Example**: `X-Content-Type-Options: nosniff`

### `X-XSS-Protection`

- **Description**: Enables the Cross-site scripting (XSS) filter built into most recent web browsers.
- **Required**: No, but recommended for protecting against XSS attacks.
- **Example**: `X-XSS-Protection: 1; mode=block`

## Conclusion

Adhering to these guidelines for HTTP request headers will contribute to a more secure, efficient, and consistent communication across our microservices. Developers are encouraged to include these headers in their requests as applicable, considering the requirements and recommendations provided.
